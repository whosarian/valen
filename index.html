<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Be My Valentine?</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #ffdde1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh; /* √Ñnderung auf min-height f√ºr besseres Scrolling falls n√∂tig */
            width: 100vw;
            margin: 0;
            overflow-x: hidden; /* Nur horizontales Scrollen verhindern */
            text-align: center;
            touch-action: pan-y; /* Erlaubt vertikales Scrollen auf Handys */
            padding: 20px 0; /* Etwas Platz oben und unten */
            box-sizing: border-box;
        }

        h1 {
            color: #d63384;
            font-size: 3rem;
            margin-bottom: 30px;
            padding: 0 20px;
            text-shadow: 2px 2px #fff;
            z-index: 10;
        }

        .container {
            position: relative;
            z-index: 10;
            margin-bottom: 20px;
        }

        .choice-btn {
            font-size: 1.5rem;
            padding: 15px 30px;
            margin: 10px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
            -webkit-tap-highlight-color: transparent;
        }

        #yesBtn {
            background-color: #28a745;
            color: white;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
        }

        #yesBtn:hover {
            transform: scale(1.1);
            background-color: #218838;
        }

        #noBtn {
            background-color: #dc3545;
            color: white;
            position: absolute; 
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.4);
            transition: top 0.2s ease, left 0.2s ease; 
        }

        #muteBtn {
            display: none;
            position: fixed;
            top: 15px;
            right: 15px;
            background-color: white;
            border: 2px solid #d63384;
            color: #d63384;
            padding: 8px 12px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            font-size: 0.9rem;
        }

        /* --- Styling f√ºr die Elemente nach dem Klick --- */
        
        #success-message {
            display: none;
            color: #d63384;
            font-size: 2.5rem;
            margin-top: 20px;
            font-weight: bold;
            padding: 10px;
            z-index: 20;
        }

        /* NEU: Styling f√ºr das Bild */
        #success-image {
            display: none; /* Am Anfang unsichtbar */
            max-width: 80%; /* Maximal 80% der Bildschirmbreite */
            max-height: 40vh; /* Maximal 40% der Bildschirmh√∂he, damit es nicht alles verdeckt */
            height: auto;
            margin: 20px auto; /* Abstand nach oben/unten */
            border-radius: 15px; /* Abgerundete Ecken */
            box-shadow: 0 4px 15px rgba(214, 51, 132, 0.3); /* Leichter pinker Schatten */
            animation: fadeIn 2s; /* Sanftes Einblenden */
            z-index: 20;
        }

        #second-line {
            display: none;
            color: #b02a6b;
            font-size: 1.5rem;
            margin-top: 10px;
            margin-bottom: 30px; /* Platz nach unten */
            font-weight: normal;
            padding: 10px;
            z-index: 20;
            animation: fadeIn 3s; /* Blendet etwas langsamer ein als das Bild */
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 600px) {
            h1 { font-size: 2rem; }
            #success-message { font-size: 1.8rem; }
            #second-line { font-size: 1.2rem; }
            .choice-btn { font-size: 1.2rem; padding: 12px 24px; }
        }
    </style>
</head>
<body>

    <button id="muteBtn">üîä Mute</button>

    <h1 id="main-text">Sophie, will you be my Valentine? üíñ</h1>

    <div class="container">
        <button id="yesBtn" class="choice-btn">Yes! üòç</button>
        <button id="noBtn" class="choice-btn">No üò¢</button>
    </div>

    <div id="success-message">Yaaay!</div>
    
    <img id="success-image" src="bild.gif" alt="Bild">

    <div id="second-line">If you dont really want to its also okay, I just hope you smiled at least!</div>

    <audio id="music" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>

    <script>
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const muteBtn = document.getElementById('muteBtn');
        const music = document.getElementById('music');
        const mainText = document.getElementById('main-text');
        
        const successMessage = document.getElementById('success-message');
        const successImage = document.getElementById('success-image'); // NEU: Bild Variable
        const secondLine = document.getElementById('second-line');

        // No Button Logik
        function moveButton() {
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            const btnWidth = noBtn.offsetWidth;
            const btnHeight = noBtn.offsetHeight;

            // Etwas gr√∂√üerer Rand (40px), damit es nicht zu nah am Rand klebt
            const maxLeft = Math.max(0, windowWidth - btnWidth - 40);
            const maxTop = Math.max(0, windowHeight - btnHeight - 40);

            const newLeft = Math.random() * maxLeft;
            const newTop = Math.random() * maxTop;

            noBtn.style.position = 'fixed';
            noBtn.style.left = newLeft + 'px';
            noBtn.style.top = newTop + 'px';
        }

        noBtn.addEventListener('mouseover', moveButton);
        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault();
            moveButton();
        });

        // Yes Button Logik
        yesBtn.addEventListener('click', () => {
            
            music.volume = 0.4; // Lautst√§rke 30%
            
            music.play().catch(error => console.log("Fehler:", error));
            muteBtn.style.display = 'block';
            startFireworks();

            mainText.style.display = 'none';
            yesBtn.style.display = 'none';
            noBtn.style.display = 'none';
            
            // Alle Erfolgs-Elemente anzeigen
            successMessage.style.display = 'block';
            successImage.style.display = 'block'; // NEU: Bild anzeigen
            secondLine.style.display = 'block';
        });

        // Mute Button Logik
        muteBtn.addEventListener('click', () => {
            if (music.muted) {
                music.muted = false;
                muteBtn.textContent = "üîä Mute";
            } else {
                music.muted = true;
                muteBtn.textContent = "üîá Unmute";
            }
        });

        function startFireworks() {
            var duration = 5 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);
                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 } }));
            }, 250);
        }
    </script>
</body>
</html>